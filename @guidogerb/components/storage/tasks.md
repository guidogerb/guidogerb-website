# @guidogerb/components-storage â€” Tasks

| name                                                | createdDate | lastUpdatedDate | completedDate | status   | description                                                                                                       |
| --------------------------------------------------- | ----------- | --------------- | ------------- | -------- | ----------------------------------------------------------------------------------------------------------------- |
| Clarify storage responsibilities in README          | 2025-09-19  | 2025-09-19      | 2025-09-19    | complete | Documented the persistence scope, planned APIs, and coordination with the service worker helpers.                 |
| Draft storage controller API shape                  | 2025-09-19  | 2025-09-21      | 2025-09-21    | complete | Finalize method signatures for `createStorageController`, cookie helpers, and SSR fallbacks before coding.        |
| Coordinate cache preference channel with SW package | 2025-09-19  | 2025-09-22      | 2025-09-22    | complete | Ship the shared cache preference channel that persists toggles and broadcasts them to `@guidogerb/components-sw`. |
| Ship browser cookie utilities                       | 2025-10-05  | 2025-10-05      | 2025-10-05    | complete | Added cookie parsing, serialization, and mutation helpers with attribute-aware APIs and tests.                     |
| Add storage diagnostics hooks                       | 2025-10-05  | 2025-10-05      | 2025-10-05    | complete | Exposed optional diagnostics callbacks to trace set/remove/clear events and fallback handling in controllers.      |
| Expose presence helper on storage controllers       | 2025-10-06  | 2025-10-06      | 2025-10-06    | complete | Added a `has` method to `createStorageController` so callers can check for persisted keys without triggering JSON parsing. |
| Surface `hasValue` via Storage context helpers       | 2025-10-06  | 2025-10-06      | 2025-10-06    | complete | Extended the Storage provider to expose a `hasValue` helper, documented the API, and covered the behaviour with component tests. |
| Add targeted storage subscribe helper                | 2025-10-07  | 2025-10-07      | 2025-10-07    | complete | Introduced `subscribeToValue` so consumers can observe individual keys with presence metadata without manual event filtering. |
| Provide `useHasStoredValue` hook                      | 2025-10-07  | 2025-10-07      | 2025-10-07    | complete | Added a React hook that tracks whether a key is persisted, reacts to storage events, and works across configured storage areas. |
| Sync controllers with browser storage events          | 2025-10-08  | 2025-10-08      | 2025-10-08    | complete | Listen for `storage` events so cross-tab mutations propagate through controller subscribers and React hooks instantly. |
| Surface event source metadata on notifications        | 2025-10-08  | 2025-10-08      | 2025-10-08    | complete | Include `source` context on diagnostics, controller events, and `subscribeToValue` callbacks to distinguish local vs. external changes. |
